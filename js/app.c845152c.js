(function(e){function t(t){for(var i,r,c=t[0],s=t[1],u=t[2],l=0,d=[];l<c.length;l++)r=c[l],Object.prototype.hasOwnProperty.call(n,r)&&n[r]&&d.push(n[r][0]),n[r]=0;for(i in s)Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i]);v&&v(t);while(d.length)d.shift()();return a.push.apply(a,u||[]),o()}function o(){for(var e,t=0;t<a.length;t++){for(var o=a[t],i=!0,c=1;c<o.length;c++){var s=o[c];0!==n[s]&&(i=!1)}i&&(a.splice(t--,1),e=r(r.s=o[0]))}return e}var i={},n={app:0},a=[];function r(t){if(i[t])return i[t].exports;var o=i[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=i,r.d=function(e,t,o){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(o,i,function(t){return e[t]}.bind(null,i));return o},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/test-task-for-global-logic/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var v=s;a.push([0,"chunk-vendors"]),o()})({0:function(e,t,o){e.exports=o("56d7")},"0e9c":function(e,t,o){"use strict";o("d683")},"324a":function(e,t,o){"use strict";o("9451")},"3e17":function(e,t,o){"use strict";o("509b")},"4f7e":function(e,t,o){"use strict";o("d0cc")},"509b":function(e,t,o){},"56d7":function(e,t,o){"use strict";o.r(t);o("e260"),o("e6cf"),o("cca6"),o("a79d");var i=o("7a23"),n={class:"header"},a=Object(i["e"])("h1",{class:"header__title"},"VueMovies Database",-1),r={class:"main"};function c(e,t){var o=Object(i["s"])("router-link"),c=Object(i["s"])("router-view");return Object(i["n"])(),Object(i["d"])(i["a"],null,[Object(i["e"])("header",n,[Object(i["e"])(o,{to:"/"},{default:Object(i["y"])((function(){return[a]})),_:1})]),Object(i["e"])("main",r,[Object(i["e"])(c)])],64)}o("0e9c");const s={};s.render=c;var u=s,v=o("6c02"),l=(o("ac1f"),o("841c"),Object(i["e"])("input",{type:"submit",value:"search",class:"form__input form__input-submit"},null,-1)),d={class:"page-content"},f={class:"popular-movie"},m=Object(i["e"])("h2",{class:"popular-movie__title"},"Popular movies list:",-1);function p(e,t,o,n,a,r){var c=Object(i["s"])("MovieList"),s=Object(i["s"])("FavoriteMovies");return Object(i["n"])(),Object(i["d"])(i["a"],null,[Object(i["e"])("form",{onSubmit:t[2]||(t[2]=Object(i["A"])((function(){return r.searchHandle&&r.searchHandle.apply(r,arguments)}),["prevent"])),class:"form"},[Object(i["z"])(Object(i["e"])("input",{type:"text",placeholder:"What are you looking for?","onUpdate:modelValue":t[1]||(t[1]=function(e){return a.search=e}),class:"form__input form__input-text"},null,512),[[i["w"],a.search]]),l],32),Object(i["e"])("div",d,[Object(i["e"])("div",f,[m,Object(i["e"])(c,{"popular-movies":a.popularMovies,onAddMovie:r.addMovie},null,8,["popular-movies","onAddMovie"])]),Object(i["e"])(s,{"favorite-movies":a.favoriteMovies,onRemoveMovie:r.removeMovie},null,8,["favorite-movies","onRemoveMovie"])])],64)}o("99af"),o("4de4"),o("7db0"),o("45fc"),o("d3b7");var b={class:"movie-list"};function O(e,t,o,n,a,r){var c=Object(i["s"])("MovieItem");return Object(i["n"])(),Object(i["d"])("ul",b,[(Object(i["n"])(!0),Object(i["d"])(i["a"],null,Object(i["r"])(e.popularMovies,(function(e){return Object(i["n"])(),Object(i["d"])(c,{movie:e,key:e.id,onAddMovie:function(t){return r.addMovie(e.id)}},null,8,["movie","onAddMovie"])})),128))])}var j={class:"movie-list__item"},h={class:"movie-list__title"},_=Object(i["e"])("span",{class:"movie-list__info"},"Read more...",-1);function g(e,t,o,n,a,r){var c=Object(i["s"])("router-link");return Object(i["n"])(),Object(i["d"])("li",j,[Object(i["e"])(c,{to:"/movie/"+o.movie.id,class:"movie-list__link"},{default:Object(i["y"])((function(){return[Object(i["e"])("img",{src:a.imagePath+o.movie.backdrop_path,alt:"Movie logo",class:"movie-list__img"},null,8,["src"]),Object(i["e"])("p",h,Object(i["u"])(o.movie.title),1),_]})),_:1},8,["to"]),Object(i["e"])("button",{type:"button",class:"btn btn-add",onClick:t[1]||(t[1]=function(t){return e.$emit("add-movie")})}," Add to favorite ")])}var M={name:"MovieItem",props:{movie:{type:Object,required:!0}},data:function(){return{imagePath:"https://image.tmdb.org/t/p/w500/"}}};o("81cd");M.render=g;var y=M,k={name:"MovieList",props:["popular-movies"],components:{MovieItem:y},methods:{addMovie:function(e){this.$emit("add-movie",e)}}};o("4f7e");k.render=O;var w=k,P={class:"favorite-movies"},S={key:0,class:"favorite-movies__heading"},x={key:1,class:"favorite-movies__heading"},A={class:"favorite-movies__list"},I={class:"favorite-movies__title"};function R(e,t,o,n,a,r){return Object(i["n"])(),Object(i["d"])("div",P,[e.favoriteMovies.length?(Object(i["n"])(),Object(i["d"])("h2",x,"Favorite list:")):(Object(i["n"])(),Object(i["d"])("h2",S," Favorite list is empty ")),Object(i["e"])("ul",A,[(Object(i["n"])(!0),Object(i["d"])(i["a"],null,Object(i["r"])(e.favoriteMovies,(function(e){return Object(i["n"])(),Object(i["d"])("li",{class:"favorite-movies__item",key:e.id},[Object(i["e"])("img",{src:a.imagePath+e.backdrop_path,alt:"Movie logo",class:"favorite-movies__img"},null,8,["src"]),Object(i["e"])("p",I,Object(i["u"])(e.title),1),Object(i["e"])("button",{type:"button",class:"btn btn-remove",onClick:function(t){return r.removeMovie(e.id)}}," Remove from favorite ",8,["onClick"])])})),128))])])}var F={name:"FavoriteMovies",props:["favorite-movies"],data:function(){return{imagePath:"https://image.tmdb.org/t/p/w500/"}},methods:{removeMovie:function(e){this.$emit("remove-movie",e)}}};o("3e17");F.render=R;var J=F,C="https://api.themoviedb.org/3/search/movie?",H="c28e0d3f715111a4527b2abea1d1258a",L="https://api.themoviedb.org/3/movie/",N="https://api.themoviedb.org/3/movie/popular?",U="en-US",$=function(){var e="".concat(N,"api_key=").concat(H,"&language=").concat(U,"&page=1");return fetch(e).then((function(e){return e.json()}))},q={name:"Main",components:{MovieList:w,FavoriteMovies:J},data:function(){return{popularMovies:[],favoriteMovies:[],search:""}},methods:{addMovie:function(e){this.favoriteMovies.some((function(t){return t.id===e}))||this.favoriteMovies.push(this.popularMovies.find((function(t){return t.id===e}))),localStorage.setItem("favoriteMovies",JSON.stringify(this.favoriteMovies))},removeMovie:function(e){this.favoriteMovies=this.favoriteMovies.filter((function(t){return t.id!==e})),localStorage.setItem("favoriteMovies",JSON.stringify(this.favoriteMovies))},searchHandle:function(){var e=this;""!==this.search&&fetch("".concat(C,"api_key=").concat(H,"&query=").concat(this.search)).then((function(e){return e.json()})).then((function(t){e.popularMovies=t.results,e.search=""}))}},mounted:function(){var e=this;$().then((function(t){e.popularMovies=t.results}));var t=localStorage.getItem("favoriteMovies");t&&(this.favoriteMovies=JSON.parse(t))}};o("f004");q.render=p;var D=q,T={class:"movie-details"},V=Object(i["e"])("h2",{class:"movie-details__heading"},"Back to main page",-1),z={class:"movie-details__card"},B={class:"movie-details__info"},W={class:"movie-details__title"},E={class:"movie-details__description"},G={class:"movie-details__date"},K={class:"movie-details__rating"},Q={class:"movie-details__popularity"};function X(e,t,o,n,a,r){var c=Object(i["s"])("router-link");return Object(i["n"])(),Object(i["d"])("div",T,[Object(i["e"])(c,{to:"/"},{default:Object(i["y"])((function(){return[V]})),_:1}),Object(i["e"])("div",z,[Object(i["e"])("img",{src:a.imagePath+a.movie.poster_path,alt:"Movie logo",class:"movie-details__img"},null,8,["src"]),Object(i["e"])("div",B,[Object(i["e"])("h2",W,Object(i["u"])(a.movie.title),1),Object(i["e"])("p",E,Object(i["u"])(a.movie.overview),1),Object(i["e"])("span",G,"Release date: "+Object(i["u"])(a.movie.release_date),1),Object(i["e"])("span",K,"Rating: "+Object(i["u"])(a.movie.vote_average),1),Object(i["e"])("span",Q,"Popularity: "+Object(i["u"])(a.movie.popularity),1)])])])}var Y={data:function(){return{imagePath:"https://image.tmdb.org/t/p/w500/",movie:{}}},mounted:function(){var e=this,t=Object(v["c"])();fetch("".concat(L).concat(t.params.id,"?api_key=").concat(H,"&language=en-US")).then((function(e){return e.json()})).then((function(t){e.movie=t}))}};o("324a");Y.render=X;var Z=Y,ee=[{path:"/",name:"Main",component:D},{path:"/movie/:id",name:"MovieDetails",component:Z}],te=Object(v["a"])({history:Object(v["b"])("/test-task-for-global-logic/"),routes:ee}),oe=te;Object(i["c"])(u).use(oe).mount("#app")},"7eda":function(e,t,o){},"81cd":function(e,t,o){"use strict";o("b9d6")},9451:function(e,t,o){},b9d6:function(e,t,o){},d0cc:function(e,t,o){},d683:function(e,t,o){},f004:function(e,t,o){"use strict";o("7eda")}});
//# sourceMappingURL=app.c845152c.js.map